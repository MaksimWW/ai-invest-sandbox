# Tinkoff Invest Sandbox Setup

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–∫—Ä–∏–ø—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Å–æ—á–Ω–æ–≥–æ —Å—á—ë—Ç–∞ –≤ Tinkoff Invest API.

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –¥–ª—è –ø–µ—Å–æ—á–Ω–∏—Ü—ã –Ω–∞ [developers.tinkoff.ru](https://developers.tinkoff.ru/)

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –Ω–µ–≥–æ –≤–∞—à —Ç–æ–∫–µ–Ω:
```
TINKOFF_SANDBOX_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å
```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

## –ó–∞–ø—É—Å–∫

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Å–æ—á–Ω–æ–≥–æ —Å—á—ë—Ç–∞

–î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Å–æ—á–Ω–æ–≥–æ —Å—á—ë—Ç–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–ª–∞–Ω—Å–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
python setup_sandbox.py
```

–°–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç –Ω–∞–ª–∏—á–∏–µ —Ç–æ–∫–µ–Ω–∞ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –û—Ç–∫—Ä–æ–∏—Ç –Ω–æ–≤—ã–π –ø–µ—Å–æ—á–Ω—ã–π —Å—á—ë—Ç (–µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)
- –ü–æ–ø–æ–ª–Ω–∏—Ç —Å—á—ë—Ç –Ω–∞ 100 000 ‚ÇΩ
- –í—ã–≤–µ–¥–µ—Ç —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å –ø–æ—Ä—Ç—Ñ–µ–ª—è

### –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞

–î–ª—è –∑–∞–ø—É—Å–∫–∞ Telegram-–±–æ—Ç–∞ —Å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–º –ø–ª–∞–Ω–æ–º:

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** –≤ —Ñ–∞–π–ª–µ `.env`:
```
TINKOFF_SANDBOX_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_—Ç–∏–Ω—å–∫–æ—Ñ—Ñ
TELEGRAM_TOKEN=–≤–∞—à_telegram_bot_token
TELEGRAM_CHAT_ID=–≤–∞—à_chat_id
SHEETS_WEBHOOK_URL=–≤–∞—à_google_sheets_webhook_url
SHEETS_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–¥–ª—è_sheets
```

2. **–ü–æ–ª—É—á–∏—Ç–µ Telegram —Ç–æ–∫–µ–Ω:**
   - –ù–∞–π–¥–∏—Ç–µ @BotFather –≤ Telegram
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π `/newbot`
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω

3. **–£–∑–Ω–∞–π—Ç–µ Chat ID:**
   - –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ: `https://api.telegram.org/bot<–í–ê–®_–¢–û–ö–ï–ù>/getUpdates`
   - –ù–∞–π–¥–∏—Ç–µ `"chat":{"id":–ß–ò–°–õ–û}` - —ç—Ç–æ –≤–∞—à Chat ID

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
```bash
python daily_plan_bot.py
```

–ë–æ—Ç –ø–æ–ª—É—á–∏—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –∞–∫—Ü–∏–π YNDX –∏ FXIT, –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç –∏—Ö –≤ Telegram –∏–ª–∏ –≤—ã–≤–µ–¥–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª—å (–µ—Å–ª–∏ Telegram –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω).

## –°–∏–≥–Ω–∞–ª—ã

### SMA Breakout

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä **SMA Breakout**, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ —Å–∫–æ–ª—å–∑—è—â–∏—Ö —Å—Ä–µ–¥–Ω–∏—Ö:

- **SMA20** ‚Äî –ø—Ä–æ—Å—Ç–∞—è —Å–∫–æ–ª—å–∑—è—â–∞—è —Å—Ä–µ–¥–Ω—è—è –∑–∞ 20 –ø–µ—Ä–∏–æ–¥–æ–≤
- **SMA50** ‚Äî –ø—Ä–æ—Å—Ç–∞—è —Å–∫–æ–ª—å–∑—è—â–∞—è —Å—Ä–µ–¥–Ω—è—è –∑–∞ 50 –ø–µ—Ä–∏–æ–¥–æ–≤

**–õ–æ–≥–∏–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤:**
- **BUY** ‚Äî SMA20 –ø–µ—Ä–µ—Å–µ–∫–ª–∞ SMA50 —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–≤–µ—á–µ (–≤–æ—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–µ–Ω–¥)
- **SELL** ‚Äî SMA20 –ø–µ—Ä–µ—Å–µ–∫–ª–∞ SMA50 —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–≤–µ—á–µ (–Ω–∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–µ–Ω–¥)  
- **HOLD** ‚Äî –Ω–µ—Ç –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö

–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è –Ω–∞ —á–∞—Å–æ–≤—ã—Ö —Å–≤–µ—á–∞—Ö –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 200 –ø–µ—Ä–∏–æ–¥–æ–≤.

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–¥–µ–ª–æ–∫ –≤ Google Sheets

–ë–æ—Ç –º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã –≤ Google Sheets –¥–ª—è –≤–µ–¥–µ–Ω–∏—è –∂—É—Ä–Ω–∞–ª–∞ —Å–¥–µ–ª–æ–∫.

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**

1. –°–æ–∑–¥–∞–π—Ç–µ Google Apps Script —Å webhook –¥–ª—è –ø—Ä–∏–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö
2. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env` —Ñ–∞–π–ª:
```
SHEETS_WEBHOOK_URL=https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec
SHEETS_TOKEN=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_—Ç–æ–∫–µ–Ω
```

**–§—É–Ω–∫—Ü–∏–∏:**
- `log_trade()` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–¥–µ–ª–æ–∫
- `log_signal_trade()` ‚Äî —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–∏–≥–Ω–∞–ª–æ–≤ –±–æ—Ç–∞
- `test_sheets_connection()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
python trade_logger.py
```

### –ü—Ä–∏–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è

```
üìà –ü–ª–∞–Ω –Ω–∞ 2025-06-12
‚Ä¢ YNDX: 2 510,35 ‚ÇΩ
  Signal: BUY
‚Ä¢ FXIT: 120,45 ‚ÇΩ
  Signal: HOLD
```